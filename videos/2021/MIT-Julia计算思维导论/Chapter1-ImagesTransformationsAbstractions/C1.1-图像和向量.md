## 1.1 图像和向量

本文介绍了：

1. Pluto 的使用
    - `PlutoUI.TableOfContents(aside=true)`  : 打开 Table 目录
    - `begin ... end`: 多个代码进行运算
    - `md"""wode"""`: 进行 markdown 输入
    - `html"""wode"""`: 进行 HTML 输入
    - `@bind`: 使用小部件 [滑窗](#Step%203%202%20使用小部件进行探索)
2. `Images.jl` 包下载和加载图片
    - `download(<url>)`: 从URL中下载图片并返回文件名
    - `load(<filename>)`: 加载本地图像文件
3. 图像探索
	- `size(<imageVariableName>)`: 获取图像大小 (h,w) [size](#Step%203%201%20图像大小)
	- `Dump`: 方便对长向量进行 print
	- `RGB(r, g, b)`: 生成颜色，`r,g,b`在 0-1.0 之间
---

### Step 1: 创建临时环境

Julia可以创建一个临时环境供我们使用，在教学中适合使用

```julia
begin
	import Pkg
	Pkg.activate(mktempdir())
	Pkg.add([
		Pkg.PackageSpec(name="ImageIO", version="0.5"),
		Pkg.PackageSpec(name="ImageShow", version="0.2"),
		Pkg.PackageSpec(name="FileIO", version="1.6"),
		Pkg.PackageSpec(name="PNGFiles", version="0.3.6"),
		Pkg.PackageSpec(name="Colors", version="0.12"),
		Pkg.PackageSpec(name="ColorVectorSpace", version="0.8"),
		Pkg.PackageSpec(name="PlutoUI", version="0.7"), 
		Pkg.PackageSpec(name="HypertextLiteral", version="0.5")
	])

	using Colors, ColorVectorSpace, ImageShow, FileIO
	using PlutoUI
	using HypertextLiteral
end
```

### Step 2: 下载和加载图片

#### Step 2.1: Web加载图片

```julia
begin
	url=
	"https://user-images.githubusercontent.com/6933510/107239146-dcc3fd00-6a28-11eb-8c7b-41aaf6618935.png"
	philip_filename = download(url) # 返回文件名
	philip = load(philip_filename)
end
```

#### Step 2.2: 摄像头获取图片

首先建立摄像头区域
```julia
@bind webcam_data1 camera_input()
```

然后，获取摄像头返回图像

```julia
myface1 = process_raw_camera_data(webcam_data1);
```

最后做了一个有趣的四面镜像翻转，这里我们做一些解释：

- `myface1[   :    , end:-1:1]`: 左右翻转，行不变，列向后退

```julia
[
	myface1              myface1[   :    , end:-1:1]
	myface1[end:-1:1, :] myface1[end:-1:1, end:-1:1]
]
```

---

### Step 3: 图像探索

---

#### Step 3.1: 图像大小

`size` 方法会返回类似字典类型的数据，因此我们可以用下标为 1 开始访问数据

```julia
>>> philip_size = size(philip)
philip_size = (
    1: 864
	2: 700
)

>>> philip_size[1]
864

>>> philip_size[2]
700

#索引像素块，下标从 1 开始
philip_size[1,1]

#按位索引
>>> philip_head = philip[1:5, 2:5]
>>> size(philip_head)
(5,4) #包括第一位到最后一位

#生成类似 List 
>>> collect(1:3)
[
  1:1,
  2:2,
  3:3
]

# 方便进行print
>>> Dump(collect(1:3))
Array{Int64}((3,)) [1, 2, 3]
```

---

#### Step 3.2: 使用小部件进行探索

由于 Pluto 是全局变量进行控制的，因此改变一个变量同时会改变其他变量，下图中 变量名 会随着滑动而改变

```julia
@bind <valiableName> Slider(1:size(philip)[1], show_value=true)
```

---

#### Step 3.3: 修改图片

```julia
#生成红色
RGB(1.0,0,0)
```

#### 练习：编写反转 `RGB` 的函数

从 `(r,g,b)` 翻转为 `(1-r, 1-g, 1-b)`
